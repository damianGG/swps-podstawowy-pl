"use strict";
! function($) {
    $(document).ready(function() {
        var timeoutHolder;
        $("html").css("font-size").replace("px", "");
        $(".main-slider .slider-wrapper").on("init", function(event, slick) {
                var slideCount = $(this).find(".slick-slide:not(.slick-cloned)").length;
                $(this).parents(".main-slider").find(".slide-counter").remove(), $(this).parents(".main-slider").find(".slider-controls .container").append('<span class="slide-counter"><span class="current-slide">1</span>/' + slideCount + "</span>")
            }), $(".main-slider .slider-wrapper").slick({ slidesToShow: 1, slidesToScroll: 1, arrows: !0, infinite: !1, speed: 750, prevArrow: '<button class="prev" aria-label="Przewiń w lewo"><i class="icon-arrow" aria-hidden="true"></i></button>', nextArrow: '<button class="next" aria-label="Przewiń w prawo"><i class="icon-arrow" aria-hidden="true"></i></button>', appendArrows: $(".main-slider .slider-controls .container"), dots: !0, appendDots: $(".main-slider .slider-controls .container") }), $(".main-slider .slider-wrapper").on("beforeChange", function(event, slick, currentSlide, nextSlide) {
                var prevSlide = $(".slide-content.active").not('[data-i="' + nextSlide + '"]');
                $(this).parents(".main-slider").css("background-position-x", 25 * (nextSlide + 1) + "%"), $(this).parents(".main-slider").find(".slide-counter .current-slide").text(nextSlide + 1), setTimeout(function() { prevSlide.removeClass("active").removeClass("out") }, 1e3), prevSlide.addClass("out"), $('.slide-content[data-i="' + nextSlide + '"]').addClass("active")
            }), $(window).resize(function() {
                clearTimeout(timeoutHolder), timeoutHolder = setTimeout(function() {
                    if (1200 <= $(window).innerWidth()) {
                        if ($(".front-page .small-news-slider").length) {
                            var leftGap = $(".slider-controls .container").offset().left + parseFloat($(".slider-controls .container").css("padding-left"));
                            $(".front-page .small-news-slider").css({ display: "block", left: leftGap / 16 + "rem" })
                        }
                        $(".main-slider .slide").each(function() {
                            var bg = $(this).css("background-image");
                            bg = bg.replace("-mobile.png", ".webp"), $(this).css("background-image", bg)
                        }), $(".main-slider .slide-content").each(function(i) { $(".slider-content").append($(this)) }), $(".main-slider + .small-news-slider").on("init", function() { $(".slide-content .caption").css({ bottom: $(".main-slider + .small-news-slider").height() + "px", display: "block" }) })
                    } else $(".main-slider .slide").each(function() { var bg = $(this).css("background-image"); - 1 == bg.search("-mobile.png") && (bg = bg.replace(".webp", "-mobile.png")), $(this).css("background-image", bg) }), $(".main-slider .slide").each(function(i) { $(this).append($('.slide-content[data-i="' + i + '"]')) }), $(".front-page .small-news-slider").css("left", "");
                    $(window).innerWidth() < 500 && $(".slide-content").each(function() {
                        var h2 = $(this).children().children("h2");
                        12 < h2.text().length && !h2.children("small").length && h2.wrapInner("<small></small>")
                    })
                }, 150)
            })
            //obszary mobile START
            //jQuery(".moduletable.thematic-areas").append('<h3 class="obszary-mobile-on">Obszary tematyczne</h3><span class="close-obszary">X</span>')
        jQuery(".moduletable.thematic-areas").append('<h3 class="obszary-mobile-on">Obszary tematyczne</h3><span class="close close-obszary"></span>')
        jQuery(".obszary-mobile-on, .close-obszary").hide()
        jQuery(".js-toggle-mobilethematicmenu").click(function() {
            jQuery(".nav.menu.mod-list").addClass("obszary-on");
            jQuery(".obszary-mobile-on, .close-obszary").show()
            $('html').addClass('block-scrolling');
            // jQuery(".moduletable.thematic-areas .nav.menu.mod-list").css("display","flex")
            jQuery(".moduletable.thematic-areas .nav.menu.mod-list").addClass("flex");
            jQuery(".thematic-areas .obszary-on li").each(function() {
                jQuery(this).append('<i class="icon-arrow" aria-hidden="true"></i>')
            })
        })
        jQuery(".close-obszary").click(function() {
                jQuery(".thematic-areas .obszary-on li").each(function() {
                    jQuery("i").remove()
                })
                $('html').removeClass('block-scrolling');
                jQuery(".nav.menu.mod-list").removeClass("obszary-on");
                jQuery(".obszary-mobile-on, .close-obszary").hide()
                jQuery(".moduletable.thematic-areas .nav.menu.mod-list").removeClass("flex");
                // jQuery(".moduletable.thematic-areas .nav.menu.mod-list").css("display","none")
            })
            //obszary mobile END


        //popUp Start 
        jQuery(".close").on("click", function() {
            hidePopUp();
        })

        jQuery(".sign-in").on("click", function() {
            jQuery("#front-page-popup").hide()
            jQuery(".appla").removeClass("on")
            enableScroll();
        })


        function disableScroll() {
            document.body.classList.add("stop-scrolling");
        }

        function enableScroll() {
            document.body.classList.remove("stop-scrolling");
        }


        function showPopUp() {
            jQuery(".appla").addClass("on")
            jQuery("#front-page-popup").show(300);
            disableScroll()
        }

        function hidePopUp() {
            jQuery("#front-page-popup").hide()
            jQuery(".appla").removeClass("on")
            enableScroll();
        }

        // if (jQuery("body").hasClass("aid32555")) {
        //     setTimeout(function() {
        //         showPopUp();
        //     }, 100)
        // }
        //popUp End 




    })
}(jQuery);